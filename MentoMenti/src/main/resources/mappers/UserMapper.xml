<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
 "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="Mento.Menti.Project.dao.UserDAO">	
  <select id="selectUsers" resultType="Mento.Menti.Project.dto.UserDTO"> 
  	SELECT * 
  	FROM user;
  </select>
  
  <insert id="insertUsers" parameterType="Mento.Menti.Project.dto.UserDTO">
  	insert into user 
  	values (#{id}, #{pw}, #{birth}, #{joindate}, #{email}, #{name}, #{nickname}, #{is_admin}, #{intro});
  </insert>
  
  <select id="searchUser" resultType="Mento.Menti.Project.dto.UserDTO" parameterType="Mento.Menti.Project.dto.UserDTO">
  	select *
  	from user
  	where email = #{email};
  </select>
  
  <select id="searchUserById" resultType="Mento.Menti.Project.dto.UserDTO">
  	select *
  	from user
  	where id = #{id};
  </select>
  
  <select id="searchUserByIdPw" resultType="Mento.Menti.Project.dto.UserDTO">
  	select *
  	from user
  	where id = #{id} and pw = #{pw};
  </select>
  
  <!-- 회원 정보 수정 -->
  <update id="updateUserInfo" parameterType="Mento.Menti.Project.dto.UserDTO">
  	update user
  	set nickname = #{nickname}
  	, pw = #{pw}
  	, email = #{email}
  	, intro = #{intro}
  	where id = #{id};
  </update>
  
  <!-- 관리자인지 아닌지 -->
  <select id="isAdmin" parameterType="String" resultType="boolean">
  	select is_admin
  	from user
  	where id = #{id};
  </select>
</mapper>